/* YouTube用のスタイル */

/* グレースケールモード */
body.acis-grayscale #movie_player video,
body.acis-grayscale ytd-thumbnail img,
body.acis-grayscale yt-image img,
body.acis-grayscale #avatar img {
  filter: grayscale(100%) !important;
}

/* Shorts非表示 */
body.acis-youtube-shorts-hidden a[title="Shorts"],
body.acis-youtube-shorts-hidden ytd-guide-entry-renderer a[title="Shorts"],
body.acis-youtube-shorts-hidden ytd-mini-guide-entry-renderer a[title="Shorts"],
body.acis-youtube-shorts-hidden ytd-rich-shelf-renderer[is-shorts],
body.acis-youtube-shorts-hidden ytd-reel-shelf-renderer,
body.acis-youtube-shorts-hidden [aria-label*="Shorts"],
body.acis-youtube-shorts-hidden [title="Shorts"],
body.acis-youtube-shorts-hidden ytd-video-renderer a[href*="/shorts/"],
body.acis-youtube-shorts-hidden ytd-grid-video-renderer a[href*="/shorts/"],
body.acis-youtube-shorts-hidden ytd-rich-item-renderer:has(a[href*="/shorts/"]) {
  display: none !important;
}

/* 関連動画非表示 */
body.acis-youtube-related-hidden #secondary,
body.acis-youtube-related-hidden #secondary-inner,
body.acis-youtube-related-hidden #related,
body.acis-youtube-related-hidden ytd-watch-next-secondary-results-renderer,
body.acis-youtube-related-hidden #items ytd-compact-video-renderer,
body.acis-youtube-related-hidden #items ytd-compact-radio-renderer,
body.acis-youtube-related-hidden #items ytd-compact-playlist-renderer,
body.acis-youtube-related-hidden ytd-watch-flexy #secondary {
  display: none !important;
}

/* プライマリを全幅に */
body.acis-youtube-related-hidden #primary,
body.acis-youtube-related-hidden #primary-inner,
body.acis-youtube-related-hidden ytd-watch-flexy #primary {
  max-width: 100% !important;
  width: 100% !important;
  flex: 1 1 100% !important;
}

body.acis-youtube-related-hidden #columns #primary {
  max-width: 100% !important;
  min-width: 0 !important;
}

/* コメント非表示 */
body.acis-youtube-comments-hidden #comments,
body.acis-youtube-comments-hidden ytd-comments,
body.acis-youtube-comments-hidden ytd-comments#comments,
body.acis-youtube-comments-hidden #comment-section,
body.acis-youtube-comments-hidden .ytd-comments,
body.acis-youtube-comments-hidden ytd-comment-thread-renderer,
body.acis-youtube-comments-hidden ytd-comment-renderer,
body.acis-youtube-comments-hidden ytd-comment-simplebox-renderer,
body.acis-youtube-comments-hidden ytd-comments-header-renderer,
body.acis-youtube-comments-hidden #simple-box.ytd-comments-header-renderer,
body.acis-youtube-comments-hidden ytd-item-section-renderer#sections,
body.acis-youtube-comments-hidden ytd-live-chat-frame,
body.acis-youtube-comments-hidden #chat,
body.acis-youtube-comments-hidden #chat-container {
  display: none !important;
}

/* ==========================================================================
   ★ 動画終了後の黒帯オーバーレイ（シークバー除外版）
   ========================================================================== */

/* 1. 既存のエンドスクリーン要素は、念のため透明にしてクリック不可にする */
body.acis-youtube-endscreen-hidden .html5-endscreen,
body.acis-youtube-endscreen-hidden .ytp-endscreen-content,
body.acis-youtube-endscreen-hidden .videowall-endscreen {
  opacity: 0 !important;
  visibility: hidden !important;
  pointer-events: none !important;
}

/* 2. 動画終了時、プレイヤー全体を黒い膜で覆う（z-index: 2000） */
body.acis-youtube-endscreen-hidden #movie_player.ended-mode::before {
  content: "";
  display: block;
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: #000 !important;
  z-index: 2000 !important; /* エンドスクリーンより手前 */
  pointer-events: auto; /* 誤クリック防止 */
}

/* 3. ただし「コントロールバー（シークバー）」は黒い膜より手前に表示する（z-index: 2001） */
body.acis-youtube-endscreen-hidden #movie_player.ended-mode .ytp-chrome-bottom {
  z-index: 2001 !important;
  opacity: 1 !important;        /* YouTubeが自動で消すのを防ぐ */
  display: block !important;    /* 強制表示 */
  visibility: visible !important;
  pointer-events: auto !important; /* 操作可能にする */
}

/* 4. シークバーのツールチップ（時間表示）も見えるようにする */
body.acis-youtube-endscreen-hidden #movie_player.ended-mode .ytp-tooltip {
  z-index: 2002 !important;
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* グレースケール用の追加スタイル */
body.acis-grayscale video,
body.acis-grayscale img,
body.acis-grayscale svg,
body.acis-grayscale ytd-thumbnail {
  filter: grayscale(100%) !important;
}
